---
- name: Ensure artifacts
  ansible.builtin.file: { path: "{{ artifacts_dir }}", state: directory, mode: "0755" }
- name: Plan sponsor portal
  ansible.builtin.copy:
    dest: "{{ artifacts_dir }}/sponsor_portal_plan.json"
    content: "{{ sponsor_portal | to_nice_json }}"
    mode: "0644"
- name: Configure Sponsor portal (guarded placeholder)
  when: apply_changes | bool
  ansible.builtin.debug:
    msg: "Configure Sponsor Portal {{ sponsor_portal.name }} (SSO={{ sponsor_portal.sso.enabled }})"
